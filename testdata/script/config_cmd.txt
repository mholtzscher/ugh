# Config command flows
exec ugh --config $WORK/config.toml config init
exec ugh --config $WORK/config.toml config show
stdout 'ugh.sqlite'

! exec ugh --config $WORK/config.toml config init
stderr 'config file already exists'

exec ugh --config $WORK/config.toml config set db.path data/ugh.sqlite
exec ugh --config $WORK/config.toml config get db.path
stdout 'data/ugh.sqlite'

exec ugh --config $WORK/config.toml config show
stdout 'version = 1'
stdout '[db]'
stdout 'path = "data/ugh.sqlite"'

! exec ugh --config $WORK/config.toml config get unknown.key
stderr 'unknown config key'
