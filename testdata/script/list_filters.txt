# List filters
exec ugh --db $WORK/db.sqlite add -p work -c office Alpha
exec ugh --db $WORK/db.sqlite add -p home -c phone Bravo
exec ugh --db $WORK/db.sqlite add -p work -c home Charlie
exec ugh --db $WORK/db.sqlite add -p misc Delta
exec ugh --db $WORK/db.sqlite done 2

# Default list (todo only)
exec ugh --db $WORK/db.sqlite list
stdout 'Alpha'
stdout 'Charlie'
stdout 'Delta'
! stdout 'Bravo'

# Done only
exec ugh --db $WORK/db.sqlite list --done
stdout 'Bravo'
! stdout 'Alpha'

# All
exec ugh --db $WORK/db.sqlite list --all
stdout 'Alpha'
stdout 'Bravo'
stdout 'Charlie'
stdout 'Delta'

# Project filter
exec ugh --db $WORK/db.sqlite list -p work
stdout 'Alpha'
stdout 'Charlie'
! stdout 'Bravo'
! stdout 'Delta'

# Context filter
exec ugh --db $WORK/db.sqlite list --context home
stdout 'Charlie'
! stdout 'Alpha'

# Search filter
exec ugh --db $WORK/db.sqlite list --all --search phone
stdout 'Bravo'
! stdout 'Alpha'

# State filter (pending state)
exec ugh --db $WORK/db.sqlite list --state inbox
stdout 'Alpha'
stdout 'Charlie'
stdout 'Delta'
! stdout 'Bravo'

# State filter (done state should include done without extra flags)
exec ugh --db $WORK/db.sqlite list --state done
stdout 'Bravo'
! stdout 'Alpha'

# Combined project + context (AND semantics)
exec ugh --db $WORK/db.sqlite list --all --project work --context office
stdout 'Alpha'
! stdout 'Charlie'

# Combined project + search (AND semantics)
exec ugh --db $WORK/db.sqlite list --all --project work --search Charlie
stdout 'Charlie'
! stdout 'Alpha'

# State value normalization from CLI builder
exec ugh --db $WORK/db.sqlite list --state DONE
stdout 'Bravo'
! stdout 'Alpha'
